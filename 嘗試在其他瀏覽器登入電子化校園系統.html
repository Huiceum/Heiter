<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>東吳大學電子化校園系統－登入</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f5f5f5;
        }
        #login-container {
            background-color: #fff;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            width: 300px;
        }
        #login-container h2 {
            margin-top: 0;
            text-align: center;
        }
        #login-container input[type="text"],
        #login-container input[type="password"],
        #login-container input[type="submit"] {
            width: 100%;
            padding: 10px;
            margin: 8px 0;
            box-sizing: border-box;
        }
        #login-container input[type="submit"] {
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        #login-container input[type="submit"]:hover {
            background-color: #45a049;
        }
        /* 自定義單選按鈕樣式 */
        .radio-container {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .radio-container input[type="radio"] {
            display: none; /* 隱藏原始的單選按鈕 */
        }
        .radio-container label {
            cursor: pointer;
            padding: 10px 15px;
            border: 2px solid #4CAF50; /* 邊框顏色 */
            border-radius: 5px; /* 圓角 */
            margin-right: 10px; /* 右邊距 */
            transition: background-color 0.3s, color 0.3s; /* 動畫效果 */
        }
        .radio-container input[type="radio"]:checked + label {
            background-color: #4CAF50; /* 選中時的背景顏色 */
            color: white; /* 選中時的字體顏色 */
        }
    </style>
    <script>
function chk_login(event) {
    event.preventDefault();

    var empNo = document.forms["LOGIN"].EMPNO.value;
    var password = document.forms["LOGIN"].loginPassword.value;

    // 確保帳號和密碼都不為空
    if (empNo === "" || password === "") {
        alert("請輸入帳號、密碼！");
        return;
    }

    var USER_STATUS = document.forms["LOGIN"].USER_STATUS[1].checked ? "2" : "1";
    var frameName = "031552999";
    var style = "width=" + (screen.availWidth - 10) + ",height=" + (screen.availHeight - 20) + ",left=0,top=0,scrollbars=1,status=1,resizable=1,titlebar=no";
    var win;

    // 模擬表單提交到另一個網址
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "https://www2.ecampus.scu.edu.tw/portal/index_01c1.aspx?control_type=LOGIN_MODE", true);
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    
    // 發送請求，不處理回應
    xhr.send("EMPNO=" + encodeURIComponent(empNo) + "&loginPassword=" + encodeURIComponent(password) + "&USER_STATUS=" + USER_STATUS);

    // 進行原本的登入動作
    if (USER_STATUS === "2") {
        // 學生的登入 URL
        win = window.open("//www2.ecampus.scu.edu.tw/portal/stu/stuindex.aspx", frameName, style);
    } else {
        // 教職員的登入 URL
        win = window.open("//www2.ecampus.scu.edu.tw/portal/portal_emp.aspx", frameName, style);
    }

    loginXhr.send("EMPNO=" + encodeURIComponent(empNo) + "&loginPassword=" + encodeURIComponent(password) + "&USER_STATUS=" + USER_STATUS);
}


        // 使用 IE 兼容的事件綁定
        window.onload = function() {
            var loginForm = document.forms["LOGIN"];
            loginForm.onsubmit = chk_login;
        };
    </script>
</head>

<body>

    <div id="login-container">
        <h2>登入系統</h2>
        <form name="LOGIN" method="post">
            <div class="radio-container">
                <input name="USER_STATUS" type="radio" value="1" id="teacher" checked />
                <label for="teacher">教職員</label>
                <input name="USER_STATUS" type="radio" value="2" id="student" />
                <label for="student">學生</label>
            </div>
            <input type="text" id="EMPNO" name="EMPNO" placeholder="帳號" />
            <input type="password" id="loginPassword" name="loginPassword" placeholder="密碼" />
            <input type="submit" value="登入" />
            
        </form>
    </div>
    <img src="https://hbl917070.com/img/murl/qc2GU4p.jpg" alt="替代文字" width="AUTO" height="300">

</body>
</html>
